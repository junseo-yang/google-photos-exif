#!/usr/bin/env node

const fs = require('fs')
const path = require('path')
const libPath = path.join(__dirname, '../lib')
const compiled = fs.existsSync(libPath)

if (!compiled) {
  const project = path.join(__dirname, '../tsconfig.json')
  if (fs.existsSync(project)) {
    require('ts-node').register({project})
  }
}

require(`../${compiled ? 'lib' : 'src'}`).run()
.catch(require('@oclif/errors/handle'))
